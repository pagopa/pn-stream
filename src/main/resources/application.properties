logging.config=classpath:logback-base.xml
pn.env.runtime=PROD

spring.application.name=PN-STREAM

# Application parameters
pn.middleware.impl.timeline-dao=dynamo
pn.middleware.impl.timeline-counter-dao=dynamo
pn.middleware.impl.webhook-stream-dao=dynamo
pn.middleware.impl.webhook-event-dao=dynamo

pn.stream.data-vault-base-url=http://alb.confidential.pn.internal:8080
pn.clients.address-book-base-url=notUsedAnyMore

#Time to live delle action 0d significa disabilitato
pn.stream.action-ttl=365d

# Features flag is MVP default value
pn.commons.features.is-mvp-default-value=true

# 15 minutes
pn.stream.webhook.schedule-interval=900000
pn.stream.webhook.max-length=100
pn.stream.webhook.purge-deletion-waittime=1000
# quando arriva una richiesta di lettura, per ovviare ad eventuali corse critiche, io ritorno gli eventi pi� nuovi di quello richiesto MENO un piccolo delta-time
pn.stream.webhook.read-buffer-delay=1000
pn.stream.webhook.max-streams=10
pn.stream.webhook.delta-counter=1000
# 0d significa disabilitato
pn.stream.webhook.ttl=7d
pn.stream.webhook.disable-ttl=14d

pn.stream.webhook.first-version=v10
pn.stream.webhook.current-version=v25

# Middleware configuration
pn.middleware.init.aws=true

# Queue inbound event configuration
spring.cloud.stream.function.routing.enabled=true
spring.cloud.stream.bindings.functionRouter-in-0.destination=${SPRING_CLOUD_FUNCTIONROUTER_QUEUES_LIST}
spring.cloud.stream.sqs.bindings.functionRouter-in-0.consumer.snsFanout=false

#Specifica quanto tempo un determinato nodo pu� tenere il lock, utile nel caso in cui un nodo vada down
lockAtMostFor=600s
#Specifica il tempo minimo in cui un nodo tiene il lock. Utile per evitare l'esecuzione multipla di pi� nodo in caso di task molto brevi
lockAtLeastFor=8s
#Definisce quanto tempo vicino devo essere al lookAtMostFor prima di chiudere l'iterazione del nodo (per evitare che il nodo continui ad elaborare senza lock)
timeToBreak=10s
#Indica il tempo (espresso in millis) che intercorre tra il termine di uno scheduling e l'altro. Nota: se minore di lockAtLeastFor il tempo che passa tra un esecuzione e l'altra sar� necessariamente il tempo indicato per quest'ultimo
fixedDelayPool=10000

# quickWorkAroundForPN-9116
pn.stream.send-more-than-20-grams-default-value=true

pn.stream.list-categories-pa=REQUEST_REFUSED,REQUEST_ACCEPTED,SEND_DIGITAL_DOMICILE,SEND_DIGITAL_FEEDBACK,DIGITAL_SUCCESS_WORKFLOW,DIGITAL_FAILURE_WORKFLOW,SEND_SIMPLE_REGISTERED_LETTER,SEND_SIMPLE_REGISTERED_LETTER_PROGRESS,SEND_ANALOG_DOMICILE,SEND_ANALOG_PROGRESS,SEND_ANALOG_FEEDBACK,ANALOG_SUCCESS_WORKFLOW,ANALOG_FAILURE_WORKFLOW,COMPLETELY_UNREACHABLE,REFINEMENT,NOTIFICATION_VIEWED,NOTIFICATION_CANCELLED,NOTIFICATION_RADD_RETRIEVED

management.endpoints.web.exposure.include=health,metrics,loggers